# Static Store + Order Tracking System

This repository contains a simple static e‑commerce store powered by JSON and HTML files. It is designed to work with Cloudflare Pages for the front‑end and a Cloudflare Worker as a lightweight API backend. The admin panel runs locally in your browser and communicates with the Worker to publish updates to this repository.

## Folder Structure

```
.
├── index.html          # Home page listing products
├── style.css           # Shared styles
├── script.js           # Script to load product data
├── json/
│   ├── products.json   # All product metadata
│   └── orders.json     # Order tracking information
├── products/
│   └── ai-video-maker.html  # Example product page
├── landing/
│   └── sample-landing.html  # Example landing page
├── admin/
│   ├── admin.html      # Local admin panel UI
│   ├── admin.css       # Admin panel styles
│   └── admin.js        # Admin panel logic
└── worker.js           # Cloudflare Worker script
```

## How It Works

1. **Static Front‑End**: The pages in this repository are served by Cloudflare Pages. The home page loads `json/products.json` to display a list of products. Individual product and landing pages are static HTML generated by the admin panel.

2. **Admin Panel**: Open `admin/admin.html` in a local browser. From there you can create or edit products, landing pages and orders. When you submit a form, the panel serialises your input into JSON and optionally generates an HTML template. It then sends a POST request to your Cloudflare Worker.

3. **Cloudflare Worker**: The Worker receives data from the admin panel and commits changes back to this repository through the GitHub REST API. It handles three record types (`product`, `landing` and `order`), updates JSON files and writes out HTML files where needed.

4. **Auto Deploy**: Each commit triggers a new deployment on Cloudflare Pages, so your changes go live automatically without any servers.

## Setup Instructions

1. Create a new GitHub repository and push the contents of this folder.
2. In Cloudflare Pages, connect your repository and set the build settings to serve the files statically (no build command, build output directory `/`).
3. Deploy a Cloudflare Worker using `worker.js`. Set the following secrets in your Worker environment:
   - `GITHUB_TOKEN` – a personal access token with repo scope.
   - `GITHUB_OWNER` – your GitHub username or organisation.
   - `GITHUB_REPO` – the name of the repository.
   - `GITHUB_BRANCH` – optional; defaults to `main`.
4. Update the `WORKER_URL` constant in `admin/admin.js` to point to your Worker’s deployment URL plus `/api/publish`.
5. Open `admin/admin.html` locally to manage your store.

Remember that the admin panel is meant to run locally and should not be published. For security, never expose your GitHub token to users; it should remain in the Worker’s secret environment variables.