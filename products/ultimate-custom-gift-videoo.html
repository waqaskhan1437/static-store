<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Custom Gift  videoo</title>
    <meta name="description" content="A perfect demo for testing admin panel capabilities.">
    
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../product.css">
    
    <style>
        /* Fallback CSS agar product.css load na ho */
        .product-container { display: grid; grid-template-columns: 1.2fr 1fr; gap: 30px; max-width: 1100px; margin: 40px auto; padding: 0 20px; }
        .media-col { display: flex; flex-direction: column; gap: 15px; }
        .media-frame { width: 100%; aspect-ratio: 1/1; background: #f3f4f6; border-radius: 10px; overflow: hidden; display: flex; align-items: center; justify-content: center; border: 1px solid #e5e7eb; }
        .media-frame img, .media-frame video { max-width: 100%; max-height: 100%; object-fit: contain; }
        .thumbs { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; }
        .thumbs img { width: 70px; height: 70px; border-radius: 6px; cursor: pointer; border: 2px solid transparent; object-fit: cover; opacity: 0.7; transition: 0.3s; }
        .thumbs img:hover, .thumbs img.active-thumb { border-color: #4f46e5; opacity: 1; }
        
        .form-col { padding: 10px; }
        .product-title { font-size: 2rem; margin-bottom: 10px; color: #111; }
        .price-box { font-size: 1.5rem; color: #4f46e5; font-weight: bold; margin-bottom: 20px; display: flex; align-items: center; gap: 15px; }
        .old-price { color: #999; text-decoration: line-through; font-size: 1rem; font-weight: normal; }
        
        /* Form Field Styles */
        .custom-field { margin-bottom: 15px; }
        .custom-field label { display: block; font-weight: 600; margin-bottom: 5px; color: #374151; font-size: 0.95rem; }
        .form-control { width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; }
        .req-star { color: red; }
        
        /* Options & Conditional Logic Styles */
        .opt-group { display: flex; flex-direction: column; gap: 8px; }
        .opt-row { display: flex; align-items: center; justify-content: space-between; padding: 10px; border: 1px solid #e5e7eb; border-radius: 6px; cursor: pointer; transition: 0.2s; }
        .opt-row:hover { background: #f9fafb; border-color: #cbd5e1; }
        .opt-row input { margin-right: 10px; accent-color: #4f46e5; transform: scale(1.2); }
        .opt-price { font-weight: bold; color: #4f46e5; font-size: 0.9rem; }
        
        .cond-wrap { margin-top: 10px; padding: 12px; background: #eff6ff; border-radius: 6px; display: none; border-left: 3px solid #4f46e5; }
        .cond-wrap.show { display: block; animation: fadeIn 0.3s ease-in-out; }
        
        .btn-buy { background: #4f46e5; color: white; border: none; width: 100%; padding: 15px; font-size: 1.1rem; font-weight: bold; border-radius: 8px; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        .btn-buy:hover { background: #4338ca; }
        
        .desc-box { margin-top: 30px; background: #fff; padding: 20px; border-radius: 8px; border: 1px solid #e5e7eb; line-height: 1.6; color: #4b5563; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        @media(max-width: 768px) { .product-container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div class="product-container">
        <div class="media-col">
            <div class="media-frame" id="main-frame">
                <video src="https://res.cloudinary.com/demo/video/upload/v1590484059/dog.mp4" controls poster="https://res.cloudinary.com/demo/image/upload/v1590483864/fashion_product.jpg"></video>
            </div>
            <div class="thumbs">
                <img src="https://img.icons8.com/ios-filled/50/000000/video.png" onclick="playVideo('https://res.cloudinary.com/demo/video/upload/v1590484059/dog.mp4')" style="padding:15px; background:#eee">
                <img src="https://res.cloudinary.com/demo/image/upload/v1590483864/fashion_product.jpg" class="active-thumb" onclick="changeMedia('https://res.cloudinary.com/demo/image/upload/v1590483864/fashion_product.jpg', this)" alt="Thumb"><img src="https://res.cloudinary.com/demo/image/upload/v1590483329/sample.jpg" class="" onclick="changeMedia('https://res.cloudinary.com/demo/image/upload/v1590483329/sample.jpg', this)" alt="Thumb"><img src="https://res.cloudinary.com/demo/image/upload/v1312461204/sample.jpg" class="" onclick="changeMedia('https://res.cloudinary.com/demo/image/upload/v1312461204/sample.jpg', this)" alt="Thumb">
            </div>
            
            <div class="desc-box">
                <h3>Product Details</h3>
                <p>This is a comprehensive demo to showcase the Advanced Form Builder 2025.<br><br>It features:<br>- Cloudinary Integration (Video + Images)<br>- Conditional Logic (File/Text requirements)<br>- Complex Add-ons & Pricing<br>- Long Text Areas</p>
            </div>
        </div>

        <div class="form-col">
            <h1 class="product-title">Ultimate Custom Gift  videoo</h1>
            
            <div class="price-box">
                <span id="display-price">5500</span> PKR
                <span class="old-price">7000 PKR</span>
            </div>

            <form id="orderForm" onsubmit="handleSubmit(event)">
                <h3 style="margin-top:20px; border-bottom:1px solid #ddd; padding-bottom:5px;">Step 1: Personalization</h3>
            <div class="custom-field">
                <label>Recipient Full Name <span class="req-star">*</span></label>
                <input type="text" name="Recipient Full Name" class="form-control" required>
            </div>
            <div class="custom-field">
                <label>Contact Email <span class="req-star">*</span></label>
                <input type="email" name="Contact Email" class="form-control" required>
            </div><h3 style="margin-top:20px; border-bottom:1px solid #ddd; padding-bottom:5px;">Step 2: Customization Options</h3>
            <div class="custom-field">
                <label>Choose Material Type <span class="req-star">*</span></label>
                <select name="Choose Material Type" class="form-control price-trigger" data-cond-id="cond_select_4" required>
                    <option value="" data-price="0">Select Option</option>
                    <option value="Standard Wood" 
                            data-price="0"
                            data-file-qty="1"
                            data-text-label="">
                        Standard Wood
                    </option>
                    <option value="Premium Metal (+Logo File)" 
                            data-price="500"
                            data-file-qty="1"
                            data-text-label="">
                        Premium Metal (+Logo File) (+500)
                    </option>
                    <option value="Gold Plated (+Engraving)" 
                            data-price="1500"
                            data-file-qty="1"
                            data-text-label="Name to Engrave">
                        Gold Plated (+Engraving) (+1500)
                    </option>
                </select>
                <div id="cond_select_4" class="cond-wrap"></div>
            </div>
            <div class="custom-field">
                <label>Packaging Preference </label>
                <div class="opt-group">
                <div>
                    <label class="opt-row" for="opt_5_0">
                        <div style="display:flex; align-items:center;">
                            <input type="radio" 
                                   id="opt_5_0"
                                   name="Packaging Preference" 
                                   class="price-trigger"
                                   data-price="0"
                                   data-cond-target="cond_opt_5_0"
                                   >
                            <span>Eco-Friendly Pouch</span>
                        </div>
                        
                    </label>
                    <div id="cond_opt_5_0" class="cond-wrap"><div style="margin-bottom:5px"><small>Upload File 1 *</small><input type="file" class="form-control" disabled required></div></div>
                </div>
                <div>
                    <label class="opt-row" for="opt_5_1">
                        <div style="display:flex; align-items:center;">
                            <input type="radio" 
                                   id="opt_5_1"
                                   name="Packaging Preference" 
                                   class="price-trigger"
                                   data-price="300"
                                   data-cond-target="cond_opt_5_1"
                                   >
                            <span>Velvet Gift Box</span>
                        </div>
                        <span class="opt-price">+300</span>
                    </label>
                    <div id="cond_opt_5_1" class="cond-wrap"><div style="margin-bottom:5px"><small>Upload File 1 *</small><input type="file" class="form-control" disabled required></div></div>
                </div>
                <div>
                    <label class="opt-row" for="opt_5_2">
                        <div style="display:flex; align-items:center;">
                            <input type="radio" 
                                   id="opt_5_2"
                                   name="Packaging Preference" 
                                   class="price-trigger"
                                   data-price="800"
                                   data-cond-target="cond_opt_5_2"
                                   >
                            <span>Luxury Wooden Crate</span>
                        </div>
                        <span class="opt-price">+800</span>
                    </label>
                    <div id="cond_opt_5_2" class="cond-wrap"><div style="margin-bottom:5px"><small>Upload File 1 *</small><input type="file" class="form-control" disabled required></div></div>
                </div></div>
            </div><h3 style="margin-top:20px; border-bottom:1px solid #ddd; padding-bottom:5px;">Step 3: Final Touches</h3>
            <div class="custom-field">
                <label>Gift Message Card </label>
                <textarea name="Gift Message Card" rows="3" class="form-control" ></textarea>
            </div>
            <div class="custom-field">
                <label>Premium Add-ons </label>
                <div class="opt-group">
                <div>
                    <label class="opt-row" for="opt_8_0">
                        <div style="display:flex; align-items:center;">
                            <input type="checkbox" 
                                   id="opt_8_0"
                                   name="Premium Add-ons[]" 
                                   class="price-trigger"
                                   data-price="1000"
                                   data-cond-target="cond_opt_8_0"
                                   >
                            <span>Urgent Delivery (24 Hours)</span>
                        </div>
                        <span class="opt-price">+1000</span>
                    </label>
                    <div id="cond_opt_8_0" class="cond-wrap"><div style="margin-bottom:5px"><small>Upload File 1 *</small><input type="file" class="form-control" disabled required></div></div>
                </div>
                <div>
                    <label class="opt-row" for="opt_8_1">
                        <div style="display:flex; align-items:center;">
                            <input type="checkbox" 
                                   id="opt_8_1"
                                   name="Premium Add-ons[]" 
                                   class="price-trigger"
                                   data-price="50"
                                   data-cond-target="cond_opt_8_1"
                                   >
                            <span>Remove Price Tag</span>
                        </div>
                        <span class="opt-price">+50</span>
                    </label>
                    <div id="cond_opt_8_1" class="cond-wrap"><div style="margin-bottom:5px"><small>Upload File 1 *</small><input type="file" class="form-control" disabled required></div></div>
                </div>
                <div>
                    <label class="opt-row" for="opt_8_2">
                        <div style="display:flex; align-items:center;">
                            <input type="checkbox" 
                                   id="opt_8_2"
                                   name="Premium Add-ons[]" 
                                   class="price-trigger"
                                   data-price="500"
                                   data-cond-target="cond_opt_8_2"
                                   >
                            <span>Extended Warranty (1 Year)</span>
                        </div>
                        <span class="opt-price">+500</span>
                    </label>
                    <div id="cond_opt_8_2" class="cond-wrap"><div style="margin-bottom:5px"><small>Upload File 1 *</small><input type="file" class="form-control" disabled required></div></div>
                </div></div>
            </div>
            <div class="custom-field">
                <label>Reference Image (Optional) </label>
                <input type="file" name="Reference Image (Optional)" class="form-control" >
            </div>
                
                <button type="submit" class="btn-buy">
                    Order Now - <span id="btn-price">5500</span> PKR
                </button>
            </form>
        </div>
    </div>

    <script>
        const BASE_PRICE = 5500;
        
        // 1. Image Switcher
        function changeMedia(src, el) {
            const frame = document.getElementById('main-frame');
            frame.innerHTML = '<img src="' + src + '" style="max-width:100%; max-height:100%; object-fit:contain;">';
            
            // Highlight active thumb
            document.querySelectorAll('.thumbs img').forEach(img => img.classList.remove('active-thumb'));
            if(el) el.classList.add('active-thumb');
        }
        
        function playVideo(url) {
            const frame = document.getElementById('main-frame');
            frame.innerHTML = '<video src="' + url + '" controls autoplay style="width:100%; height:100%"></video>';
        }

        // 2. Price Calculation & Conditionals Logic
        function updatePrice() {
            let total = BASE_PRICE;
            
            // Select Inputs
            document.querySelectorAll('select.price-trigger').forEach(sel => {
                const opt = sel.options[sel.selectedIndex];
                total += parseFloat(opt.getAttribute('data-price')) || 0;
                
                // Show/Hide Conditionals for Select
                const condId = sel.getAttribute('data-cond-id');
                if (condId) {
                    const wrap = document.getElementById(condId);
                    wrap.innerHTML = ''; // Clear
                    
                    const fileQty = parseInt(opt.getAttribute('data-file-qty')) || 0;
                    const textLabel = opt.getAttribute('data-text-label');
                    
                    let html = '';
                    if(fileQty > 0) {
                        for(let i=1; i<=fileQty; i++) html += '<div style="margin-top:10px"><label style="font-size:0.9rem">Upload File '+i+' <span style="color:red">*</span></label><input type="file" required class="form-control"></div>';
                    }
                    if(textLabel) {
                        html += '<div style="margin-top:10px"><label style="font-size:0.9rem">'+textLabel+' <span style="color:red">*</span></label><input type="text" required class="form-control" placeholder="Type here..."></div>';
                    }
                    
                    if(html) {
                        wrap.innerHTML = html;
                        wrap.classList.add('show');
                    } else {
                        wrap.classList.remove('show');
                    }
                }
            });

            // Radio/Checkbox Inputs
            document.querySelectorAll('input.price-trigger').forEach(inp => {
                const condId = inp.getAttribute('data-cond-target');
                const wrap = document.getElementById(condId);
                
                if (inp.checked) {
                    total += parseFloat(inp.getAttribute('data-price')) || 0;
                    if(wrap) {
                        wrap.classList.add('show');
                        wrap.querySelectorAll('input').forEach(i => i.disabled = false);
                    }
                } else {
                    if(wrap) {
                        wrap.classList.remove('show');
                        wrap.querySelectorAll('input').forEach(i => i.disabled = true);
                    }
                }
            });

            document.getElementById('display-price').innerText = total;
            document.getElementById('btn-price').innerText = total;
        }

        // Event Listeners for Live Update
        document.addEventListener('change', (e) => {
            if (e.target.classList.contains('price-trigger') || e.target.tagName === 'SELECT') {
                updatePrice();
            }
        });

        // 3. Form Submit
        function handleSubmit(e) {
            e.preventDefault();
            const btn = document.querySelector('.btn-buy');
            btn.innerHTML = 'Processing...';
            setTimeout(() => {
                alert('Thank you! Order Placed for ' + document.getElementById('btn-price').innerText + ' PKR');
                btn.innerHTML = 'Order Placed';
            }, 1000);
        }
    </script>
</body>
</html>